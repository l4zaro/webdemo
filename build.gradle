plugins {
    id 'war'
    id 'org.gretty' version '2.2.0'
}

gretty {
  httpPort = 8081
}

repositories {
    jcenter()
}

task zip(type: Zip) {
    from ('build/libs/') {
        include "*.war"
    }
    destinationDir(file("dist"))
    baseName "webdemo"
}

dependencies {
    providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
    testCompile 'junit:junit:4.12'
    testCompile 'org.mockito:mockito-core:2.7.19'
}

zip.dependsOn build
